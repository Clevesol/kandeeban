<!--
  Generated template for the ConversationsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>conversations</ion-title>
  </ion-navbar>

</ion-header>


<ion-content >

    <!-- <ion-searchbar style="position:fixed"
    [(ngModel)]="myInput"
    [showCancelButton]="shouldShowCancel"
    (ionInput)="onInput($event)"
    (ionCancel)="onCancel($event)">
  </ion-searchbar> -->
  <div>
  <div class="navigation-inside" >

  <ion-toolbar  style="padding:2%;position: fixed;">
    <ion-buttons start>
        <button (click)="showMessageComposer()" start ion-button icon-only clear color="primary">
          Compose
            <!-- <ion-icon name="text-outline"></ion-icon> -->
          </button>
    </ion-buttons>
    <ion-buttons end>
        <button (click)="showCreateGroup()" item-end ion-button icon-only clear color="primary">
          Create Group
            <!-- <ion-icon name="ios-person-add-outline"></ion-icon> -->
          </button>

    </ion-buttons>
     

   

  </ion-toolbar>
  
</div>
</div>

    <ion-list  style="margin-top:11%;" padding>
        <ion-list-header>
          Recent Conversations
        </ion-list-header>

        <!-- <h5 text-center *ngIf="!recentList || recentList.length <= 0">no recent converstaions</h5> -->
    

        <ion-grid *ngIf="!recentList || recentList.length <= 0">
            <ion-row>
              <ion-col  col-8 offset-2>
                 
                      <div no-lines no-detail ion-item>
                       <p text-center style="color:gray">No conversations yet.</p>
                       <!-- <button full round color="secondary" (click)="showMessageComposer()" ion-button>Compose New &nbsp;<ion-icon name="text" ></ion-icon></button> -->
                       </div>
                    
              </ion-col>
            </ion-row>
          </ion-grid>


          <ion-item-sliding *ngFor="let conv of recentList; let $index = index">
              <ion-item (click)="showMessageComposerWithId(conv.group)" >
                <ion-avatar item-start>
                  <img src="https://raw.githubusercontent.com/ionic-team/ionic-preview-app/master/src/assets/img/venkman.jpg">
                </ion-avatar>
                <h2>{{conv.group}}</h2>
                <h3><span style="font-weight:bold">{{conv.conversations[0].contacts.length}}</span> contacts</h3>
                <p>{{conv.conversations[conv.conversations.length - 1].message}}</p>
              </ion-item>
            </ion-item-sliding>

        <!-- <ion-item-sliding>
          <ion-item (click)="showConverstaionDetails()">
            <ion-avatar item-start>
              <img src="https://raw.githubusercontent.com/ionic-team/ionic-preview-app/master/src/assets/img/venkman.jpg">
            </ion-avatar>
            <h2>Yokohoma Real Estates</h2>
            <h3><span style="font-weight:bold">230 contacts</span> [John Couper, Daniel Vitory, Alexandar Grahambell, Chump Chocknovis] </h3>
            <p>Recent Conversation Text.</p>
          </ion-item>


          <ion-item-options>
            <button ion-button color="light" icon-start>
              <ion-icon name="ios-more"></ion-icon>
              More
            </button>
            <button ion-button color="primary" icon-start>
              <ion-icon name="text"></ion-icon>
              Text
            </button>
            <button ion-button color="danger" icon-start>
              <ion-icon name="close"></ion-icon>
              Remove
            </button>
          </ion-item-options>
        </ion-item-sliding>

        <ion-item-sliding>
            <ion-item>
              <ion-avatar item-start>
                <img src="https://raw.githubusercontent.com/ionic-team/ionic-preview-app/master/src/assets/img/venkman.jpg">
              </ion-avatar>
              <h2>My Clients</h2>
              <h3><span style="font-weight:bold">230 contacts</span> [John Couper, Daniel Vitory, Alexandar Grahambell, Chump Chocknovis] </h3>
              <p>Recent comvesatopm preview.</p>
            </ion-item>
  
  
            <ion-item-options>
              <button ion-button color="light" icon-start>
                <ion-icon name="ios-more"></ion-icon>
                More
              </button>
              <button ion-button color="primary" icon-start>
                <ion-icon name="text"></ion-icon>
                Text
              </button>
              <button ion-button color="danger" icon-start>
                <ion-icon name="close"></ion-icon>
                Remove
              </button>
            </ion-item-options>
          </ion-item-sliding>

          <ion-item-sliding>
              <ion-item>
                <ion-avatar item-start>
                  <img src="https://raw.githubusercontent.com/ionic-team/ionic-preview-app/master/src/assets/img/venkman.jpg">
                </ion-avatar>
                <h2>New Clients</h2>
                <h3><span style="font-weight:bold">260 contacts</span> [John Couper, Daniel Vitory, Alexandar Grahambell, Chump Chocknovis] </h3>
                <p>Text Description.</p>
              </ion-item>
    
    
              <ion-item-options>
                <button ion-button color="light" icon-start>
                  <ion-icon name="ios-more"></ion-icon>
                  More
                </button>
                <button ion-button color="primary" icon-start>
                  <ion-icon name="text"></ion-icon>
                  Text
                </button>
                <button ion-button color="danger" icon-start>
                  <ion-icon name="close"></ion-icon>
                  Remove
                </button>
              </ion-item-options>
            </ion-item-sliding>

            <ion-item-sliding>
                <ion-item>
                  <ion-avatar item-start>
                    <img src="https://raw.githubusercontent.com/ionic-team/ionic-preview-app/master/src/assets/img/venkman.jpg">
                  </ion-avatar>
                  <h2>United Estates</h2>
                  <h3><span style="font-weight:bold">420 contacts</span> [John Couper, Daniel Vitory, Alexandar Grahambell, Chump Chocknovis] </h3>
                  <p>text Description.</p>
                </ion-item>
      
      
                <ion-item-options>
                  <button ion-button color="light" icon-start>
                    <ion-icon name="ios-more"></ion-icon>
                    More
                  </button>
                  <button ion-button color="primary" icon-start>
                    <ion-icon name="text"></ion-icon>
                    Text
                  </button>
                  <button ion-button color="danger" icon-start>
                    <ion-icon name="close"></ion-icon>
                    Remove
                  </button>
                </ion-item-options>
              </ion-item-sliding> -->
    
    
       
    
      </ion-list>

     
    
      <ion-list padding>
        <ion-list-header>
          recent Groups
          <button *ngIf="groups" clear item-end color="gray">
              {{groups.length}} groups
          </button>
        </ion-list-header>

        <ion-grid *ngIf="!groups || groups.length <= 0">
            <ion-row>
              <ion-col  col-6 offset-3>
                 
                      <div no-lines no-detail ion-item>
                       <p text-center style="color:gray">No groups yet.</p>
                       <button full round color="secondary" (click)="showCreateGroup()" ion-button>Add group&nbsp;<ion-icon name="add-circle" ></ion-icon></button>
                       </div>
                    
              </ion-col>
            </ion-row>
          </ion-grid>
    
        <ion-item-sliding *ngFor="let group of recentGroupList; let idx = index;">
            <ion-item (click)="showConverstaionDetails(idx)">
              <ion-avatar item-start>
                <img src="https://raw.githubusercontent.com/ionic-team/ionic-preview-app/master/src/assets/img/venkman.jpg">
              </ion-avatar>
              <h2>{{group.name}}</h2>
              <h3><span style="font-weight:bold">{{group.contacts.length}}</span> Contacts </h3>
            </ion-item>
  
  
            <ion-item-options>
              <button ion-button color="light" icon-start>
                <ion-icon name="ios-more"></ion-icon>
                More
              </button>
              <button ion-button color="primary" icon-start>
                <ion-icon name="text"></ion-icon>
                Text
              </button>
              <button (click)="removeGroup(idx)" ion-button color="danger" icon-start>
                <ion-icon name="close"></ion-icon>
                Remove
              </button>
            </ion-item-options>
          </ion-item-sliding>
    
      </ion-list>

</ion-content>
